<div class="container">
  <h2>Product details</h2>
  <hr />

  <div *ngIf="product">
    <div class="container" id="productListContent">
      <div class="row">
        <div class="col-8" id="productInfoContent">
          <owl-carousel-o [options]="customOptions">
            <ng-container>
              <ng-template
                carouselSlide
                *ngFor="let image of product['productImage']; let i = index"
              >
                <img
                  src="http://localhost:3000/images/{{
                    product['productImage'][i]
                  }}"
                  width="50%"
                  height="50%"
                />
                <div class="carousel-caption"></div>
              </ng-template>
            </ng-container>
          </owl-carousel-o>
        </div>

        <div class="col-4">
          <h3>{{ product["name"] }}</h3>
          <h4>{{ product["price"] | currency }}</h4>
          <p>{{ product["description"] }}</p>
          <div>
            <div>
              <form
                [formGroup]="addToCartForm"
                (ngSubmit)="addToCart(selectedSize)"
              >
                <select
                  class="form-control"
                  formControlName="selectedSize"
                  #selectedSize
                >
                  <option *ngFor="let item of product['map'] | keyvalue">
                    {{ item.key }}
                  </option>
                </select>

                <button
                  id="myButton"
                  class="btn btn-primary btn-block"
                  type="submit"
                >
                  Add a product
                </button>
              </form>
              <div *ngIf="isAdmin()">
                <button
                  (click)="removeFromStore()"
                  class="btn btn-danger btn-block"
                >
                  Remove from store
                </button>
              </div>
            </div>
            <hr />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <div class="row my-1 mx-1" id="RecommendedDiv">
            <div
              class="shadow p-1 my-1 bg-light rounded bg-dark accented col-12"
            >
              Recommended for you:
            </div>
          </div>
          <app-recommended></app-recommended>
        </div>
      </div>
    </div>
  </div>
</div>
